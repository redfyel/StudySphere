/* frontend/src/components/flashcards/FlashcardView.css */

/* =================================================================== */
/*                           GLOBAL THEME & LAYOUT                     */
/* =================================================================== */
:root {
  --c-primary: #89A8B2;
  --c-primary-light: #B3C8CF;
  --c-border: #E5E1DA;
  --c-bg-light: #F1F0E8;

  
  --c-text-dark: #3b525b;
  --c-text-light: #7e98a1;
  --c-white: #ffffff;
  --c-success: #27ae60;
  --c-error: #c0392b;

   --color-deep-teal: #89a8b2;
  --color-light-teal: #b3c8cf;
  --color-soft-gray: #e5e1da;
  --color-light-cream: #f1f0e8;
  --color-text-dark: #333;
  --color-text-medium: #555;

  --shadow-sm: 0 4px 15px rgba(137, 168, 178, 0.08);
  --shadow-md: 0 10px 35px rgba(137, 168, 178, 0.15);
  --shadow-lg: 0 20px 50px rgba(137, 168, 178, 0.25);
}

.sidebar-page-content {
      background: linear-gradient(135deg, var(--color-light-cream), var(--color-light-teal));

  /* height: 100vh; */
  /* overflow: hidden; */
  display: flex; /* Ensure centering works */
  align-items: center;
  justify-content: center;
}


.study-environment {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
    background: linear-gradient(135deg, var(--color-light-cream), var(--color-light-teal)) !important;

}

/* =================================================================== */
/*                    FOCUSED DECK CONTAINER                           */
/* =================================================================== */
.study-deck-container {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 550px; /* The key to the compact, vertical layout */
  height: 90vh;
  max-height: 800px;
  background-color: var(--c-bg-light);
  border-radius: 32px;
  box-shadow: var(--shadow-lg);
  overflow: hidden; /* Contains all elements cleanly */
}

/* =================================================================== */
/*                        INTEGRATED HEADER                            */
/* =================================================================== */
.study-header {
  padding: 1.5rem 2rem 1rem;
  width: 100%;
  box-sizing: border-box;
  flex-shrink: 0;
  border-bottom: 1px solid var(--c-border);
}

.header-top-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.deck-title { font-size: 1.25rem; font-weight: 600; color: var(--c-text-dark); margin: 0; }
.card-counter { font-size: 0.9rem; font-weight: 500; color: var(--c-text-light); }

.progress-bar-container {
  position: relative;
  width: 100%;
  height: 4px;
  background-color: var(--c-border);
  border-radius: 2px;
}
.progress-bar-fill {
  height: 100%;
  background: var(--c-primary);
  border-radius: 2px;
  transition: width 0.5s cubic-bezier(0.25, 1, 0.5, 1);
}

/* =================================================================== */
/*                  GLASSMORPHISM CARD & ANIMATIONS                    */
/* =================================================================== */
.card-display-area {
  flex-grow: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 2rem;
  box-sizing: border-box;
  perspective: 2500px;
  overflow: hidden;
}

.flashcard-card-item {
  width: 100%;
  height: 100%;
  cursor: pointer;
  position: relative;
  transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  transform-style: preserve-3d;
}

@keyframes slideInUp { from { opacity: 0; transform: translateY(40px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
@keyframes tossLeft { to { opacity: 0; transform: translateX(-150px) rotate(-12deg) scale(0.85); } }
@keyframes tossRight { to { opacity: 0; transform: translateX(150px) rotate(12deg) scale(0.85); } }

/* .flashcard-card-item.animation-enter { animation: slideInUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; } */
/* .flashcard-card-item.animation-exit-left { animation: tossLeft 0.5s cubic-bezier(0.6, -0.28, 0.73, 0.04) forwards; } */
/* .flashcard-card-item.animation-exit-right { animation: tossRight 0.5s cubic-bezier(0.6, -0.28, 0.73, 0.04) forwards; } */

.flashcard-card-item.is-flipped { 
    transform: rotateY(180deg);
    cursor: default;
 }

.flashcard-card-face {
  position: absolute; width: 100%; height: 100%;
  backface-visibility: hidden;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  padding: 30px; box-sizing: border-box;
  border-radius: 24px; box-shadow: var(--shadow-md);
  border: 1px solid rgba(255, 255, 255, 0.5);
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
}

.card-face-back { transform: rotateY(180deg); }
.face-label { position: absolute; top: 20px; font-size: 0.75rem; font-weight: 600; color: var(--c-text-light); letter-spacing: 0.5px; text-transform: uppercase; }
.card-content-text { font-size: 1.8rem; line-height: 1.6; text-align: center; margin: 0; }
.question-text { font-weight: 600; color: var(--c-text-dark); }
.answer-text { font-weight: 400; color: var(--c-text-dark); }

/* =================================================================== */
/*                       MINIMALIST FOOTER & BUTTONS                   */
/* =================================================================== */
.study-footer {
  flex-shrink: 0;
  padding: 0 2rem 1.5rem;
  display: flex;
  justify-content: center;
  gap: 1.5rem;
  height: 100px; /* Fixed height for stability */
  align-items: center;
  opacity: 0;
  transform: scale(0.9);
  transition: opacity 0.3s ease, transform 0.3s ease;
  pointer-events: none;
}
.study-footer.visible { opacity: 1; transform: scale(1); pointer-events: auto; }

.confidence-button {
  width: 70px; height: 70px;
  border-radius: 50%;
  border: 2px solid var(--c-border);
  font-size: 1.8rem;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.2s ease;
  background-color: var(--c-white);
  box-shadow: var(--shadow-sm);
}
.confidence-button:hover { transform: translateY(-5px) scale(1.05); box-shadow: var(--shadow-md); }
.confidence-button:active { transform: translateY(-2px) scale(1); box-shadow: var(--shadow-sm); }
.confidence-button.forgot { color: var(--c-error); }
.confidence-button.forgot:hover { border-color: var(--c-error); background-color: var(--c-error); color: var(--c-white); }
.confidence-button.got-it { color: var(--c-success); }
.confidence-button.got-it:hover { border-color: var(--c-success); background-color: var(--c-success); color: var(--c-white); }

/* =================================================================== */
/*                    SLEEK SESSION COMPLETE SCREEN                    */
/* =================================================================== */
.session-complete-container, .no-cards-message {
  display: flex; flex-direction: column; align-items: center;
  justify-content: center; text-align: center; height: 100%;
  animation: fadeIn 0.6s ease;
  padding: 2rem; box-sizing: border-box;
}
@keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

.completion-card {
  display: flex; flex-direction: column; align-items: center;
  padding: 3rem; border-radius: 28px;
  box-shadow: var(--shadow-lg); border: 1px solid rgba(255, 255, 255, 0.5);
  background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(30px);
  -webkit-backdrop-filter: blur(30px); width: 350px;
}

@keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.4); } 70% { box-shadow: 0 0 0 20px rgba(255, 193, 7, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 193, 7, 0); } }
.completion-star-pulse {
  display: flex; align-items: center; justify-content: center;
  width: 70px; height: 70px;
  background-color: #fffbe6; color: #fcc419;
  border-radius: 50%; font-size: 2rem; margin-bottom: 1.5rem;
  animation: pulse 2s infinite cubic-bezier(0.66, 0, 0, 1);
}

.completion-card h1 { font-size: 2.2rem; color: var(--c-text-dark); margin: 0 0 0.5rem 0; }
.completion-card p { font-size: 1rem; color: var(--c-text-light); margin-bottom: 2.5rem; max-width: 300px; line-height: 1.6; }
.session-stats { display: flex; gap: 1.5rem; margin-bottom: 2.5rem; }
.stat-item { display: flex; flex-direction: column; align-items: center; padding: 1rem 1.5rem; border-radius: 16px; border: 1px solid var(--c-border); background: var(--c-white); }
.stat-number { font-size: 2rem; font-weight: 700; }
.stat-item.mastered{
    background-color: #D7F5D3;
    border-color: #89A8B2;
}
.stat-item.forgot {
    background-color: #F5D3D3;
    border-color: #E57373;
    max-width: 80px;
}
.stat-item.mastered .stat-number { 
    color: var(--c-success);
    
}
.stat-item.forgot .stat-number { color: var(--c-error); }
.stat-label { font-size: 0.9rem; font-weight: 500; color: var(--c-text-light); }
.completion-actions { display: flex; flex-direction: column; align-items: center; gap: 1rem; width: 100%; }


.restart-session-button {
  padding: 1rem 2.5rem;
  border: none;
  border-radius: 16px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  transition: all 0.2s ease;
  background-color: var(--c-primary);
  color: var(--c-white);
  box-shadow: var(--shadow-md);
  margin-bottom: 1rem;
}
.restart-session-button:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
}

.back-to-decks-link {
  color: var(--c-text-light);
  font-weight: 500;
  text-decoration: none;
}
.back-to-decks-link:hover {
  text-decoration: underline;
}

/* =================================================================== */
/*                    NO CARDS / FALLBACK STYLES                       */
/* =================================================================== */
.no-cards-message {
  justify-content: center;
  text-align: center;
  gap: 1rem;
}
.no-cards-message h2 {
  font-size: 1.8rem;
  color: var(--c-text-dark);
}
.no-cards-message p {
  color: var(--c-text-light);
  max-width: 400px;
  line-height: 1.6;
}
.create-deck-button {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem 2rem;
  background-color: var(--c-primary);
  color: white;
  border-radius: 16px;
  font-size: 1rem;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.2s;
  box-shadow: var(--shadow-md);
  margin-top: 1rem;
}
.create-deck-button:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
}
